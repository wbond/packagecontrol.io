<title>Submitting a Package</title>

<a class="context" href="/docs">Docs</a>
<h1>Submitting a Package</h1>

<p>
    One of the biggest reasons developers love Sublime Text is because of the
    package ecosystem that has developed. Package Control not only helps to
    make installing packages easier, but also has the goal of indexing all
    of the available packages.
</p>

<p>
    If you’ve taken the time to develop a package, please consider adding it to
    the default Package Control channel so users can easily install and keep
    your package up-to-date.
</p>

<h2 id="Step_1">1. Reviewing Existing Packages</h2>
<ol>
	<li>
		<b>Visit the <a href="/search">Search page</a> and look for similar
		packages.</b>
	</li>
	<li>
		<b>Try to improve an existing package before adding another.</b> When
		possible we strongly encourage working with an existing package
		maintainer to add functionality or tweak a package rather than
		proliferating lots of very similar options. This is especially true if
		your package is very simple.
	</li>
</ol>

<h2 id="Step_2">2. Pick a Name</h2>
<ul>
	<li>
		<b>Try not to use the word <tt>Sublime</tt> in your package name.</b>
		Every package available via Package Control is for Sublime Text. Using
		the word Sublime just adds noise to the list when trying to find
		packages. You can use the word <tt>Sublime</tt> in your marketing
		material, but omit it the package list, e.g. Sublime SFTP.
	</li>
	<li>
		<b>Don‘t use a name too similar to another.</b> We don‘t
		want <tt>SublimeTodo</tt> and <tt>Sublime T0d0</tt>.
	</li>
	<li>
		<b>Use CamelCase or underscore_notation.</b> Other Python packages in
		ST3 will be able to more easily interact with it. Additionally, the
		search indexer will properly split words, making search results more
		accurate. Obviously this does not matter if your package name is a
		single word or contains no Python.
	</li>
	<li>
		<b>Do not use a <tt>.</tt> in the package name.</b> If you package
		includes any Python code, it will not load in ST3. This is because
		Python uses <tt>.</tt> as a folder separator when importing code.
	</li>
	<li>
		<b>Do not use a <tt>/</tt> or other restricted characters in the
		package name.</b> Package names are used as part of a file
		or folder name, depending on what version of Sublime Text the user is
		using. Invalid characters include: <tt>&lt;</tt>, <tt>&gt;</tt>,
		<tt>:</tt>, <tt>&quot;</tt>, <tt>/</tt>, <tt>\</tt>, <tt>|</tt>,
		<tt>?</tt> and <tt>*</tt>.
	</li>
	<li>
		<b>Use ASCII only if possible.</b> The quick panel that Package Control
		uses in Sublime Text for selecting packages does not do match characters
		with diacritics unless they are entered by the user. Thus a user
		searching for <tt>resume</tt> will not find <tt>résumé</tt>.
	</li>
	<li>
		<b>Check hard-coded references.</b> The package name is (effectively)
		used as the package folder name. Any file path references in a theme or
		Python code must use this package folder name. Be sure your local
		package folder name matches. <em>See the <tt>.no-sublime-package</tt>
		file discussed in step 5 if you need to ensure files are always unpacked
		into a folder.</em>
	</li>
</ul>

<h2 id="Step_3">3. Decide how to Host</h2>
<p>
	You‘ll need to pick <b>one</b> of the following two hosting options:
</p>
<ul>
	<li>
		<b>Use a public GitHub or BitBucket repository.</b> Only include one
		package per repository and be sure the root of the package is the root
		of the repository.
	</li>
	<li>
		<b>Host <tt>.sublime-package</tt> files and a <tt>packages.json</tt> on
		a web server with SSL.</b> For each release you‘ll need to create and upload
		a new package file and update the <tt>packages.json</tt> information.
		Hosting of the files must be done on a secure server to help ensure the
		security of users‘ machines. Unsecure URLs could lead to malicious code
		being loaded and run.
		<em>This is rarely used – see
		<a href="https://raw.githubusercontent.com/wbond/package_control/master/example-repository.json">example-repository.json</a>
		for documentation.</em>
	</li>
</ul>

<p>
	<em>No matter how your package is hosted, Package Control will check it
	for updates approximately once per hour. The <tt>Last Seen</tt> date on
	the package detail page of this site will show the last time (UTC) when
	the package information was refreshed.</em>
</p>

<h2 id="Step_4">4. Pick a Versioning Strategy</h2>
<p>
	If you are using GitHub or BitBucket for your hosting, you will need to
	choose one of the following versioning strategies:
</p>
<ul>
	<li>
		<b>RECOMMENDED: Use git/hg tags with each tag being a
		<a href="http://semver.org">semantic version number</a>.</b> This allows
		features like
		<a href="/docs/settings#setting-install_prereleases">install_prereleases</a>
		and <a href="/docs/messaging">messaging</a> to work properly.
	</li>
	<li>
		<b>Use a branch of the repository, e.g. <tt>master</tt> or
		<tt>default</tt>.</b> For this versioning scheme, every commit is a new
		release and the version number is formulated from the latest commit
		date. <em>To properly use this, the branch used by you for development
		should be different than the release branch.</em>
	</li>
</ul>
<p>
	Please note that once you use any semantic version numbers either via
	tags or manual releases, it will not be possible to go back to commit-based
	versioning. This is because all commit-based versions are prefixed with a
	<tt>0.</tt> when doing comparisons to allow for an upgrade path to explicit
	versioning.
</p>
<p>
	If you chose manual package hosting, you will need to use semantic
	versioning in your <tt>packages.json</tt> file.
</p>

<h2 id="Step_5">5. Prepare Your Repository</h2>
<ol>

	<li>
		<b>Remove any <tt>.pyc</tt> files from your repository.</b> Sublime Text
		will generate the appropriate <tt>.pyc</tt> files the first time the
		package is loaded. Also, different versions of Python use different
		formats.
	</li>
	<li>
		<b>Remove <tt>package-metadata.json</tt>.</b> This is automatically
		generated by Package Control when a package is installed and should not
		be in your repository.
	</li>
	<li>
		<b>Check file names.</b> Windows has the most restrictive rules on
		valid characters in a file name. Be sure file names do not contain
		characters including: <tt>&lt;</tt>, <tt>&gt;</tt>, <tt>:</tt>,
		<tt>&quot;</tt>, <tt>/</tt>, <tt>\</tt>, <tt>|</tt>, <tt>?</tt> and
		<tt>*</tt>. Non-ASCII characters may present troublesome when developing
		cross-platform packages.
	</li>
	<li>
		<b>If including executables or shared libraries, add
		a <tt>.no-sublime-package</tt> file.</b> Adding this file to the root
		of your repository will prevent Package Control from keeping your
		package packed as a <tt>.sublime-package</tt> file in ST3.
	</li>
</ol>

<h2 id="Step_6">6. Add Your Repository to the Default Channel</h2>

<ol class="submit_package">
	<li>
		<b>Fork the
		<a href="https://github.com/wbond/package_control_channel">Package
		Control Channel</a></b>
	</li>
	<li>
		<b>Clone your fork to your machine</b>
	</li>
	<li>
		<b>Open the <tt>package_control_channel/</tt> folder with Sublime Text</b>
	</li>
	<li>
		<p>
			<b>Add package info based on the type of hosting:</b>
		</p>
		<ul>
			<li>
				<p>
					<b>GITHUB/BITBUCKET HOSTING:</b> Add your package info to
					the proper JSON file in <tt>repository/</tt> folder.
				</p>
				<p>
					<em>Example of GitHub hosting using semantic versioning via
					tags:</em>
				</p>
				<pre>{
	"name": "Alignment",
	"details": "https://github.com/wbond/sublime_alignment",
	"releases": [
		{
			"sublime_text": "*",
			"details": "https://github.com/wbond/sublime_alignment/tags"
		}
	]
}</pre>
				<p>
					<em>Example of BitBucket hosting using semantic versioning
					via tags:</em>
				</p>
				<pre>{
	"name": "Alignment",
	"details": "https://bitbucket.org/wbond/sublime_alignment",
	"releases": [
		{
			"sublime_text": "*",
			"details": "https://bitbucket.org/wbond/sublime_alignment#tags"
		}
	]
}</pre>
				<p>
					For other options, please read the documentation in the
					<a href="https://raw.githubusercontent.com/wbond/package_control/master/example-repository.json">example-repository.json</a>
					file. <em>Please note that the <tt>version</tt>,
					<tt>url</tt> and <tt>date</tt> sub-fields are not allowed
					in the centralized channel. If you wish to use these, you
					must host your own <tt>packages.json</tt>.</em>
				</p>
			</li>
			<li>
				<p>
					<b>MANUAL HOSTING:</b> Add the URL for your
					<tt>packages.json</tt> file to <tt>channel.json</tt>. See
					<a href="https://raw.githubusercontent.com/wbond/package_control/master/example-repository.json">example-repository.json</a>
					for documentation about the structure of the
					<tt>packages.json</tt> file.
				</p>
			</li>
		</ul>
	</li>
</ol>

<h2 id="Step_7">7. Run the Tests</h2>
<ol>
	<li>
		<b>Install the <a href="/packages/ChannelRepositoryTools">ChannelRepositoryTools</a>
		package</b> via Package Control.
	</li>
	<li>
		<b>Run the <em>ChannelRepositoryTools: Test Default Channel</em>
		command</b> from the command palette and ensure the tests pass.
	</li>
</ol>

<h2 id="Step_8">8. Submit a Pull Request</h2>
<ol>
	<li>
		<b>Browse to your fork on <a href="https://github.com">github.com</a></b>
	</li>
	<li>
		<b>Click on <em>Pull Requests</em> in the right-hand nav and
		click <em>New Pull Request</em></b>
	</li>
	<li>
		<b>Enter a description in the <em>Title</em> field</b>
	</li>
	<li>
		<b>Click the <em>Create pull request</em> button</b>
	</li>
</ol>

<p>
	Please be patient as your pull request is reviewed. We review changes to
	try and help prevent duplicate packages, spot common errors and help improve
	the package experience for users.
</p>
